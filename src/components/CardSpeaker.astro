---
import { Image } from "astro:assets";
import type { Speaker } from "../@types/speakers";

interface Props {
  data: Speaker;
}

const { data }: Props = Astro.props;
const images = await Astro.glob<{ default: ImageMetadata }>("../data/images/speakers/*.{png,jpg,jpeg,svg,webp}");
const image = images.find((img) => img.default.src.includes(data.imageName));

if (!image) {
  throw new Error(`"${data.imageName}" does not exist in glob: "src/data/images/speakers/*.{png,jpg,jpeg,svg,webp}"`);
}
---

<div class="card mb-8">
  <div class="card-image bg-[#0A2650]">
    <Image src={image.default} alt={data.name} width={200} height={200} class:list={["h-full w-full object-cover"]} />
  </div>
  <div class="card-content mt-3">
    <div class="card-title mb-1 text-base font-bold text-white lg:text-2xl">{data.name}</div>
    <div class="card-subtitle text-sm font-semibold text-gray-200 lg:text-lg">{data.title}</div>
    <hr class="my-2 border-[#204985]" />
    <div class="card-subtitle text-sm text-gray-200 lg:text-lg">{data.role}</div>
  </div>
</div>
